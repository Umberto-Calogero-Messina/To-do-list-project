(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const k=document.getElementById("form"),i=document.getElementById("items-left"),f=document.getElementById("tasks");document.querySelectorAll("[data-filter]");const E=document.getElementById("delete-completed"),m=document.getElementById("switch"),h=document.getElementById("filters"),p=document.body;let c=[],u="all",d=!1;const L=()=>{d=!d,d?(p.classList.add("dark"),m.src="./assets/images/icon-sun.svg"):(p.classList.remove("dark"),m.src="./assets/images/icon-moon.svg")},y=t=>{t.preventDefault(),t.target.task.value!==""&&(v(t.target.task.value),t.target.reset())},v=t=>{const e={id:Date.now(),task:t,completed:!1};T(e)},T=t=>{c.push(t),a()},a=()=>{f.textContent="";const t=document.createDocumentFragment();B().forEach(o=>{const r=document.createElement("div");r.classList.add("task-container");const s=b(o),n=w(o),l=x(o);r.append(s,n,l),t.append(r),l.addEventListener("click",()=>I(o.id))}),f.append(t),g()},b=t=>{const e=document.createElement("input");return e.classList.add("task-check"),e.id=`checkbox-${t.id}`,e.type="checkbox",e.checked=t.completed,e.addEventListener("change",()=>C(t.id)),e},w=t=>{const e=document.createElement("label");return e.classList.add("task-text"),e.textContent=t.task,e.htmlFor=`checkbox-${t.id}`,e},x=t=>{const e=document.createElement("img");return e.classList.add("task-delete"),e.id=t.id,e.src="assets/images/icon-cross.svg",e},C=t=>{c=c.map(e=>(e.id===t&&(e.completed=!e.completed),e)),a()},I=t=>{c=c.filter(e=>e.id!==t),a()},F=()=>{c=c.filter(t=>!t.completed),a()},g=()=>{const t=c.filter(e=>!e.completed).length;c.length===0?i.textContent="No tasks":t===0?i.textContent="All tasks completed!":i.textContent=`${t} items left`},B=()=>{const t={active:e=>!e.completed,completed:e=>e.completed,all:e=>u};return c.filter(t[u])},N=t=>{const e=t.target;e.dataset.filter&&(document.querySelector(".filter--active").classList.remove("filter--active"),e.classList.add("filter--active"),u=e.getAttribute("data-filter"),a())};g();m.addEventListener("click",L);E.addEventListener("click",F);k.addEventListener("submit",y);h.addEventListener("click",N);
