(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();const g=document.getElementById("form"),k=document.getElementById("items-left"),m=document.getElementById("tasks"),h=document.querySelectorAll("[data-filter]"),E=document.getElementById("delete-completed"),i=document.getElementById("switch"),u=document.body;let c=[],f="all",d=!1;const L=()=>{d=!d,d?(u.classList.add("dark"),i.src="./assets/images/icon-sun.svg"):(u.classList.remove("dark"),i.src="./assets/images/icon-moon.svg")},y=t=>{t.preventDefault(),t.target.task.value!==""&&(v(t.target.task.value),t.target.reset())},v=t=>{const e={id:Date.now(),task:t,completed:!1};T(e)},T=t=>{c.push(t),l()},l=()=>{m.textContent="";const t=document.createDocumentFragment();B().forEach(o=>{const r=document.createElement("div");r.classList.add("task-container");const s=b(o),n=w(o),a=x(o);r.append(s,n,a),t.append(r),a.addEventListener("click",()=>C(o.id))}),m.append(t),p()},b=t=>{const e=document.createElement("input");return e.classList.add("task-check"),e.id=`checkbox-${t.id}`,e.type="checkbox",e.checked=t.completed,e.addEventListener("change",()=>I(t.id)),e},w=t=>{const e=document.createElement("label");return e.classList.add("task-text"),e.textContent=t.task,e.htmlFor=`checkbox-${t.id}`,e},x=t=>{const e=document.createElement("img");return e.classList.add("task-delete"),e.id=t.id,e.src="assets/images/icon-cross.svg",e},I=t=>{c=c.map(e=>(e.id===t&&(e.completed=!e.completed),e)),l()},C=t=>{c=c.filter(e=>e.id!==t),l()},F=()=>{c=c.filter(t=>!t.completed),l()},p=()=>{const t=c.filter(e=>!e.completed).length;k.textContent=c.length===0?"No tasks":t===0?"All tasks completed!":`${t} items left`},B=()=>{const t={active:e=>!e.completed,completed:e=>e.completed,all:e=>!0};return c.filter(t[f])};h.forEach(t=>{t.addEventListener("click",()=>{document.querySelector(".filter--active").classList.remove("filter--active"),t.classList.add("filter--active"),f=t.getAttribute("data-filter"),l()})});p();i.addEventListener("click",L);E.addEventListener("click",F);g.addEventListener("submit",y);
